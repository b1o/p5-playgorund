webpackJsonp([0],{"+PwK":function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=r("LMZF"),i=function(){},a=function(){function t(t,n){this.rows=t,this.cols=n,this.data=[];for(var r=0;r<this.rows;r++){this.data[r]=[];for(var o=0;o<this.cols;o++)this.data[r][o]=0}}return t.multiply=function(n,r){if(n.cols===r.rows){for(var o=new t(n.rows,r.cols),i=0;i<o.rows;i++)for(var a=0;a<o.cols;a++){for(var s=0,e=0;e<n.cols;e++)s+=n.data[i][e]*r.data[e][a];o.data[i][a]=s}return o}console.error("Columns of A must match rows of B")},t.fromArray=function(n){for(var r=new t(n.length,1),o=0;o<n.length;o++)r.data[o][0]=n[o];return r},t.substract=function(n,r){for(var o=new t(n.rows,n.cols),i=0;i<o.rows;i++)for(var a=0;a<o.cols;a++)o.data[i][a]=n.data[i][a]-r.data[i][a];return o},t.transpose=function(n){for(var r=new t(n.cols,n.rows),o=0;o<n.rows;o++)for(var i=0;i<n.cols;i++)r.data[i][o]=n.data[o][i];return r},t.map=function(n,r){var o=new t(n.rows,n.cols);return o.map(function(t,o,i){return r(n.data[o][i],o,i)}),o},t.prototype.randomize=function(){for(var t=0;t<this.rows;t++)for(var n=0;n<this.cols;n++)this.data[t][n]=2*Math.random()-1},t.prototype.toArray=function(){for(var t=[],n=0;n<this.rows;n++)for(var r=0;r<this.cols;r++)t.push(this.data[n][r]);return t},t.prototype.map=function(t){if(!(t instanceof Function))throw new Error("predicator must be a function");for(var n=0;n<this.rows;n++)for(var r=0;r<this.cols;r++)this.data[n][r]=t(this.data[n][r],n,r);return this},t.prototype.multiply=function(n){if(n instanceof t)return this.map(function(t,r,o){return t*n.data[r][o]});for(var r=0;r<this.rows;r++)for(var o=0;o<this.cols;o++)this.data[r][o]*=n},t.prototype.add=function(n){if(n instanceof t)for(var r=0;r<this.rows;r++)for(var o=0;o<this.cols;o++)this.data[r][o]+=n.data[r][o];else for(r=0;r<this.rows;r++)for(o=0;o<this.cols;o++)this.data[r][o]+=n},t.prototype.print=function(){console.table(this.data)},t}(),s=function(t){return 1/(1+Math.exp(-t))},e=function(t){return t*(1-t)},h=function(){function t(t,n,r){this.learningRate=.3,this.input_nodes=t,this.hidden_nodes=n,this.output_nodes=r,this.weights_ih=new a(this.hidden_nodes,this.input_nodes),this.weights_ho=new a(this.output_nodes,this.hidden_nodes),this.weights_ho.randomize(),this.weights_ih.randomize(),this.bias_h=new a(this.hidden_nodes,1),this.bias_o=new a(this.output_nodes,1),this.bias_h.randomize(),this.bias_o.randomize()}return t.prototype.feedForward=function(t){var n=a.fromArray(t),r=a.multiply(this.weights_ih,n);r.add(this.bias_h),r.map(s);var o=a.multiply(this.weights_ho,r);return o.add(this.bias_o),o.map(s),o.toArray()},t.prototype.train=function(t,n){var r=a.fromArray(t),o=a.multiply(this.weights_ih,r);o.add(this.bias_h),o.map(s);var i=a.multiply(this.weights_ho,o);i.add(this.bias_o),i.map(s);var h=a.fromArray(n),u=a.substract(h,i),l=a.map(i,e);l.multiply(u),l.multiply(this.learningRate);var p=a.transpose(o),c=a.multiply(l,p);this.bias_o.add(l),this.weights_ho.add(c);var d=a.transpose(this.weights_ho),f=a.multiply(d,u),w=a.map(o,e);w.multiply(f),w.multiply(this.learningRate);var m=a.transpose(r),_=a.multiply(w,m);this.weights_ih.add(_),this.bias_h.add(w)},t}(),u=function(){function t(){this.trainingData=[]}return t.prototype.drawing=function(t){var n=this;this.p=t,this.p.setup=function(){n.p.createCanvas(20,20),n.p.background(0),n.p.loadPixels(),console.log(n.p.pixels.length);for(var t=1;t<255;t++)n.trainingData.push({inputs:n.p.pixels.map(function(t){return t/255}),targets:[t/255]}),n.p.background(t),n.p.loadPixels();for(console.log(n.trainingData),n.brain=new h(1600,800,1),t=0;t<1e4;t++){var r=n.p.random(n.trainingData);n.brain.train(r.inputs,r.targets),console.log("training complete: ",t/5e3*100)}console.log("training done")},this.p.mouseClicked=function(){var t=n.p.random(255);n.p.background(t),n.p.loadPixels(),console.log(n.brain.feedForward(n.p.pixels),t/255)},this.p.draw=function(){}},t.prototype.ngOnInit=function(){this.p5=new p5(this.drawing.bind(this))},t}(),l=o.X({encapsulation:0,styles:[[""]],data:{}});function p(t){return o._14(0,[],null,null)}var c=o.V("app-perceptron",u,function(t){return o._14(0,[(t()(),o.Z(0,0,null,null,1,"app-perceptron",[],null,null,null,p,l)),o.Y(1,114688,null,0,u,[],null,null)],function(t,n){t(n,1,0)},null)},{},{},[]),d=r("Un6q"),f=r("UHIZ"),w=function(){};r.d(n,"NeuralNetworkModuleNgFactory",function(){return m});var m=o.W(i,[],function(t){return o._6([o._7(512,o.j,o.T,[[8,[c]],[3,o.j],o.u]),o._7(4608,d.i,d.h,[o.r,[2,d.m]]),o._7(512,d.b,d.b,[]),o._7(512,f.m,f.m,[[2,f.r],[2,f.k]]),o._7(512,w,w,[]),o._7(512,i,i,[]),o._7(1024,f.i,function(){return[[{path:"",pathMatch:"full",redirectTo:"perceptron"},{path:"perceptron",component:u}]]},[])])})}});